[{"title":"class and struct properties","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class B\n{\n    public int N { get; set; }\n}\n\npublic class C\n{\n    public B B { get; set; } = new B();\n}\n\nstatic void TestBC()\n{\n    C c = new C();\n    // Works only if B is class, not struct.\n    c.B.N = 100500;\n    Console.WriteLine(c.B.N);\n}\n</code></pre>\n\n<pre><code class=\"csharp hljs\">\npublic struct StructA\n{\n    public int N;\n}\n\n// Works only if N is field, not property.\n// If N is property – variable must be initialized using the 'new' operator.\nStructA sa;\nsa.N = 7;\n</code></pre>"},{"title":"WebClient and Proxy usage","description":"","text":"<pre><code class=\"csharp hljs\">\nusing (var client = new WebClient())\n{\n    WebProxy p = new WebProxy(\"http://proxy.server:port/\", true);\n    p.Credentials = new NetworkCredential(\"domain\\\\user\", \"password\");\n    // WebRequest.DefaultWebProxy = p; // Not required.\n    client.Proxy = p;\n    //...\n}\n</code></pre>"},{"title":"ToString() in structures","description":"Using the default operator","text":"<pre><code class=\"csharp hljs\">\npublic struct S\n{\n    public int V;\n    public bool B;\n\n    public S(int V, bool B)\n    {\n        this.V = V;\n        this.B = B;\n    }\n\n    public override string ToString()\n    {\n        return String.Format(\"{0}, {1}\", V, B);\n    }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        S s1 = new S();\n        S s2 = new S(7, true);\n        S s3 = default (S);\n\n        Console.WriteLine(s1); // 0, False\n        Console.WriteLine(s2); // 7, True\n        Console.WriteLine(s3); // 0, False\n    }\n}\n</code></pre>"},{"title":"Constructor cnaining","description":"","text":"<pre><code class=\"csharp hljs\">\nclass A\n{\n    public int N;\n   \n    public A()\n    {\n        Console.WriteLine(\"A::ctor()\");\n    }\n}\n\nclass B: A\n{\n    public B()\n    {\n        Console.WriteLine(\"B::ctor()\");\n    }\n}\n\nclass Program\n{\n    static void Main()\n    {\n        B b = new B();\n        // Output:\n        // A::ctor()\n        // B::ctor()\n    }\n}\n</code></pre>"},{"title":"Using of nested classes","description":"Nested classes have access to their host's privates","text":"<pre><code class=\"csharp hljs\">\nclass A\n{\n    private int N;\n   \n    public class Nested\n    {\n        public void Set(A a, int N)\n        {\n            a.N = N;\n        }\n   \n        public void Show(A a)\n        {\n            Console.WriteLine(a.N);\n        }\n    }\n   \n    public A(int N)\n    {\n        this.N = N;\n    }\n}\n\nclass Program\n{\n    static void Main()\n    {\n        var n = new A.Nested();\n        var a1 = new A(7);\n        n.Show(a1);              // 7\n       \n        n.Set(a1, 100500);\n        n.Show(a1);              // 100500\n    }\n}\n</code></pre>"},{"title":"Using interfaces","description":"Interface implementation must be only public","text":"<pre><code class=\"csharp hljs\">\npublic interface II\n{\n    void M();\n}\n\npublic class C: II\n{\n    // Interface implementation must be only public.\n    // Otherwise compiler generates an error:\n    // error CS0737: 'Test.C' does not implement interface member 'Test.II.M()'. 'Test.C.M()' cannot implement\n    //               an interface member because it is not public.\n   \n    public void M()\n    {\n    }\n}\n\ninternal sealed class Program\n{\n    static void Main()\n    {\n        II ic = new C();\n    }\n}\n</code></pre>"},{"title":"IEnumerator GetEnumerator() in classes","description":"It makes possible use the class in the foreach loop (see the generic version in next snippet)","text":"<pre><code class=\"csharp hljs\">\npublic class Collection\n{\n    // NOTE The GetEnumerator method is defined with the interface IEnumerable.\n    // The foreach statement doesn’t really need this interface implemented in the collection\n    // class. It’s enough to have a method with the name GetEnumerator that returns an\n    // object implementing the IEnumerator interface.\n    public IEnumerator GetEnumerator()\n    {\n        yield return 1;\n        yield return 2;\n        yield return 3;\n    }\n}\n\npublic class Program\n{\n    static void Main()\n    {\n        foreach (int n in new Collection())\n        {\n            Console.WriteLine(n);\n        }\n    }\n}\n</code></pre>"},{"title":"IEnumerator<T> GetEnumerator() in classes","description":"The generic version of the previous snippet","text":"<pre><code class=\"csharp hljs\">\npublic class Collection<T>\n{\n    private T[] _data;\n   \n    public Collection(T[] data)\n    {\n        this._data = data;\n    }\n   \n    public IEnumerator<T> GetEnumerator()\n    {\n        foreach (var i in _data)\n        {\n            yield return i;\n        }\n    }\n}\n\npublic class Program\n{\n    static void Main()\n    {\n        foreach (int n in new Collection<int>(new int[] {1, 2, 3}))\n        {\n            Console.WriteLine(n);\n        }\n    }\n}\n</code></pre>"},{"title":"LinkedList<T> implementation","description":"[1, p.133-135]","text":"<pre><code class=\"csharp hljs\">\npublic class LinkedListNode<T>\n{\n    public LinkedListNode(T value)\n    {\n        Value = value;\n    }\n    public T Value { get; private set; }\n    public LinkedListNode<T> Next { get; internal set; }\n    public LinkedListNode<T> Prev { get; internal set; }\n}\n\npublic class LinkedList<T>: IEnumerable<T>\n{\n    public LinkedListNode<T> First { get; private set; }\n    public LinkedListNode<T> Last { get; private set; }\n    public LinkedListNode<T> AddLast(T node)\n    {\n        var newNode = new LinkedListNode<T>(node);\n        if (First == null)\n        {\n            First = newNode;\n            Last = First;\n        }\n        else\n        {\n            LinkedListNode<T> previous = Last;\n            Last.Next = newNode;\n            Last = newNode;\n            Last.Prev = previous;\n        }\n        return newNode;\n    }\n    public IEnumerator<T> GetEnumerator()\n    {\n        LinkedListNode<T> current = First;\n        while (current != null)\n        {\n            yield return current.Value;\n            current = current.Next;\n        }\n    }\n    IEnumerator IEnumerable.GetEnumerator()\n    {\n        return GetEnumerator();\n    }\n}\n\npublic class Program\n{\n    static void Main()\n    {\n        var list2 = new LinkedList<int>();\n        list2.AddLast(1);\n        list2.AddLast(3);\n        list2.AddLast(5);\n       \n        foreach (int i in list2)\n        {\n            Console.WriteLine(i);\n        }\n    }\n}\n</code></pre>"},{"title":"IEnumerable","description":"System.Collections.IEnumerable","text":"<pre><code class=\"csharp hljs\">\npublic interface IEnumerable\n{\n    [Pure]\n    [DispId(-4)]\n    IEnumerator GetEnumerator();\n}\n</code></pre>"},{"title":"IEnumerator","description":"System.Collections.IEnumerator","text":"<pre><code class=\"csharp hljs\">\npublic interface IEnumerator\n{\n    bool MoveNext();\n    Object Current { get; }\n    void Reset();\n}\n</code></pre>"},{"title":"IEnumerable implementation","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class LinkedList: IEnumerable\n{\n    // ...\n\n    public IEnumerator GetEnumerator()\n    {\n        LinkedListNode current = First;\n        while (current != null)\n        {\n            yield return current.Value;\n            current = current.Next;\n        }\n    }\n}\n</code></pre>"},{"title":"IEnumerable<T>","description":"System.Collections.Generic.IEnumerable<T>","text":"<pre><code class=\"csharp hljs\">\npublic interface IEnumerable<out T> : IEnumerable\n{\n    new IEnumerator<T> GetEnumerator();\n}\n</code></pre>"},{"title":"IEnumerator<T>","description":"System.Collections.Generic.IEnumerator<T>","text":"<pre><code class=\"csharp hljs\">\npublic interface IEnumerator<out T> : IDisposable, IEnumerator\n{    \n    new T Current {\n        get; \n    }\n}\n</code></pre>"},{"title":"IEnumerable<T> implementation","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class LinkedList<T>: IEnumerable<T>\n{\n    // See full code in the example above.\n    public IEnumerator<T> GetEnumerator()\n    {\n        LinkedListNode<T> current = First;\n        while (current != null)\n        {\n            yield return current.Value;\n            current = current.Next;\n        }\n    }\n\n    IEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n}\n</code></pre>"},{"title":"IEnumerable<T> implementation template","description":"","text":"<pre><code class=\"csharp hljs\">\n    public class Collection<T> : IEnumerable<T>\n    {\n        public IEnumerator<T> GetEnumerator()\n        {\n            throw new System.NotImplementedException();\n        }\n\n        IEnumerator IEnumerable.GetEnumerator()\n        {\n            throw new System.NotImplementedException();\n        }\n    }\n</code></pre>"},{"title":"Static in generics","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class StaticDemo<T>\n{\n    public static int x;\n}\n\nclass Program\n{\n    static void Main()\n    {\n\n        // The next 2 lines can be initialized anywhere in a program.\n        StaticDemo<string>.x = 4;\n        StaticDemo<int>.x = 5;\n        Console.WriteLine(StaticDemo<string>.x); // 4\n        Console.WriteLine(StaticDemo<int>.x);    // 5\n    }\n}\n</code></pre>"},{"title":"typeof","description":"","text":"<pre><code class=\"csharp hljs\">\nclass Program\n{\n    static void Main()\n    {\n        var n = 100;\n        //var t1 = typeof(n);   // Does not work.\n        var t1 = n.GetType();\n        var t2 = typeof(int);\n        Console.WriteLine(t1);  // System.Int32\n\n        Console.WriteLine(t2);  // System.Int32\n \n\n        var sType = typeof(String);\n        Console.WriteLine(sType); // System.String\n    }\n}\n</code></pre>"},{"title":"Delegate","description":"","text":"<pre><code class=\"csharp hljs\">\npublic delegate string MyDelegate(out bool a, ref bool b, int c);\n\npublic sealed class MyDelegate : System.MulticastDelegate\n{\n    public string Invoke(out bool a, ref bool b, int c);\n    public IAsyncResult BeginInvoke(out bool a, ref bool b, int c,\n        AsyncCallback cb, object state);\n    public string EndInvoke(out bool a, ref bool b, IAsyncResult result);\n}\n</code></pre>"},{"title":"Delegates composition","description":"","text":"<pre><code class=\"csharp hljs\">\npublic static Func<T1, TResult> Compose<T1, T2, TResult>(\n    Func<T1, T2> f1, Func<T2, TResult> f2) =>\n        a => f2(f1(a));\n\npublic static Func<T1, TResult> Compose<T1, T2, TResult>(\n    Func<T1, T2> f1, Func<T2, TResult> f2)\n{\n    return a => f2(f1(a));\n}\n\npublic static Func<T1, TResult> Compose<T1, T2, TResult>(\n    Func<T1, T2> f1, Func<T2, TResult> f2)\n{\n    return new Func<T1, TResult>(a => f2(f1(a)));\n}\n\npublic static Func<T1, TResult> Compose<T1, T2, TResult>(\n    Func<T1, T2> f1, Func<T2, TResult> f2)\n{\n    return delegate(T1 a)\n        {\n            return f2(f1(a));\n        };\n}\n</code></pre>"},{"title":"Func<> delegates","description":"","text":"<pre><code class=\"csharp hljs\">\npublic delegate TResult Func<out TResult>();\npublic delegate TResult Func<in T, out TResult>(T arg);\npublic delegate TResult Func<in T1, in T2, out TResult>(T1 arg1, T2 arg2);\n// ...\npublic delegate TResult Func< \n    in T1, in T2, in T3, in T4,\n    in T5, in T6, in T7, in T8,\n    in T9, in T10, in T11, in T12,\n    in T13, in T14, in T15, in T16, out TResult>(\n        T1 arg1, T2 arg2, T3 arg3, T4 arg4,\n        T5 arg5, T6 arg6, T7 arg7, T8 arg8,\n        T9 arg9, T10 arg10, T11 arg11, T12 arg12,\n        T13 arg13, T14 arg14, T15 arg15, T16 arg16);\n</code></pre>"},{"title":"The System.Object class","description":"","text":"<pre><code class=\"csharp hljs\">\n// Type:\nSystem.Object\n\n// Constructors:\npublic .ctor();\n\n// Methods:\npublic static bool Equals(object objA, object objB);\npublic static bool ReferenceEquals(object objA, object objB);\npublic Type GetType();\npublic virtual bool Equals(object obj);\npublic virtual int GetHashCode();\npublic virtual string ToString();\nprotected object MemberwiseClone();\nprotected virtual void Finalize();\nprivate void FieldGetter(string typeName, string fieldName, ref Object& val);\nprivate void FieldSetter(string typeName, string fieldName, object val);\nprivate FieldInfo GetFieldInfo(string typeName, string fieldName);\n\n// Properties:\n-\n</code></pre>"},{"title":"Using delegate inside a method","description":"","text":"<pre><code class=\"csharp hljs\">\nFunc<MethodInfo, MethodInfo, int> CompareByVisibility\n    = delegate(MethodInfo x, MethodInfo y)\n{\n    // ...\n}\n</code></pre>"},{"title":"A delegate internals","description":"","text":"<pre><code class=\"csharp hljs\">\nclass D: System.MulticastDelegate,\n    System.ICloneable,\n    System.Runtime.Serialization.ISerializable\n\n// Constructors:\npublic .ctor(System.Object object, System.IntPtr method);\n\n// Methods:\n▲ public virtual System.Boolean Equals(System.Object obj);\n▲ public virtual System.Int32 GetHashCode();\n▲ public virtual System.Delegate[] GetInvocationList();\n▲ public virtual System.Void GetObjectData(\n        System.Runtime.Serialization.SerializationInfo info,\n        System.Runtime.Serialization.StreamingContext context);\n▲ protected virtual System.Delegate CombineImpl(System.Delegate follow);\n▲ public System.Type GetType();\n▲ public virtual System.String ToString();\n▲ protected virtual System.Reflection.MethodInfo GetMethodImpl();\n▲ protected virtual System.Delegate RemoveImpl(System.Delegate value);\n▲ * protected System.Boolean InvocationListLogicallyNull();\n▲ * protected System.Boolean IsUnmanagedFunctionPtr();\n▲ * protected System.MulticastDelegate NewMulticastDelegate(\n        System.Object[] invocationList,\n        System.Int32 invocationCount);\n▲ * protected System.Void StoreDynamicMethod( \n        System.Reflection.MethodInfo dynamicMethod);\n▲ * protected virtual System.Object GetTarget();\n▲ protected System.Object MemberwiseClone();\n▲ protected virtual System.Void Finalize();\n▲ public System.Object DynamicInvoke(System.Object[] args);\n▲ public System.Reflection.MethodInfo get_Method();\n▲ public System.Object get_Target();\n▲ public virtual System.Object Clone();\n▲ protected virtual System.Object DynamicInvokeImpl(System.Object[] args);\n▲ * protected System.IntPtr AdjustTarget( \n        System.Object target,\n        System.IntPtr methodPtr);\n▲ * protected System.IRuntimeMethodInfo FindMethodHandle();\n▲ * protected System.IntPtr GetCallStub(System.IntPtr methodPtr);\n▲ * protected System.IntPtr GetInvokeMethod();\n▲ * protected System.IntPtr GetMulticastInvoke();\npublic virtual System.IAsyncResult BeginInvoke(\n    System.AsyncCallback callback,\n    System.Object object);\npublic virtual System.Void EndInvoke(System.IAsyncResult result);\npublic virtual System.Void Invoke();\n\n// Properties:\n• public System.Reflection.MethodInfo Method { get; }\n• public System.Object Target { get; }\n</code></pre>"},{"title":"IAsyncResult","description":"","text":"<pre><code class=\"csharp hljs\">\n// Type:\nSystem.IAsyncResult\n\n// Methods:\npublic virtual System.Object get_AsyncState();\npublic virtual System.Threading.WaitHandle get_AsyncWaitHandle();\npublic virtual System.Boolean get_CompletedSynchronously();\npublic virtual System.Boolean get_IsCompleted();\n\n// Properties:\n• public System.Boolean IsCompleted { get; }\n• public System.Threading.WaitHandle AsyncWaitHandle { get; }\n• public System.Object AsyncState { get; }\n• public System.Boolean CompletedSynchronously { get; }\n</code></pre>"},{"title":"AsyncResult","description":"","text":"<pre><code class=\"csharp hljs\">\nnamespace System.Runtime.Remoting.Messaging\n{\n    [ComVisible(true)]\n    public class AsyncResult : IAsyncResult, IMessageSink\n    {\n        public virtual bool IsCompleted { get; }\n        public virtual object AsyncDelegate { get; }\n        public virtual object AsyncState { get; }\n        public virtual bool CompletedSynchronously { get; }\n        public bool EndInvokeCalled { get; set; }\n        public virtual WaitHandle AsyncWaitHandle { get; }\n        public IMessageSink NextSink { get; }\n\n        [SecurityCritical]\n        public virtual IMessageCtrl AsyncProcessMessage(IMessage msg, IMessageSink replySink);\n        public virtual IMessage GetReplyMessage();\n        public virtual void SetMessageCtrl(IMessageCtrl mc);\n        [SecurityCritical]\n        public virtual IMessage SyncProcessMessage(IMessage msg);\n    }\n}\n</code></pre>"},{"title":"AsyncCallback","description":"","text":"<pre><code class=\"csharp hljs\">\npublic delegate void AsyncCallback(IAsyncResult ar);\n\n// Type:\nSystem.AsyncCallback\n[sealed]\n\n// Base Type:\nSystem.MulticastDelegate\n\n// Interfaces:\nSystem.ICloneable\nSystem.Runtime.Serialization.ISerializable\n\n-------------------------------------------------\n\n// Constructors:\npublic .ctor(System.Object object, System.IntPtr method);\n\n// Methods:\n▲ public virtual System.Boolean Equals(System.Object obj);\n▲ public virtual System.Int32 GetHashCode();\n▲ public virtual System.Delegate[] GetInvocationList();\n▲ public virtual System.Void GetObjectData(\n        System.Runtime.Serialization.SerializationInfo info,\n        System.Runtime.Serialization.StreamingContext context);\n▲ protected virtual System.Delegate CombineImpl(System.Delegate follow);\n▲ public System.Type GetType();\n▲ public virtual System.String ToString();\n▲ protected virtual System.Reflection.MethodInfo GetMethodImpl();\n▲ protected virtual System.Delegate RemoveImpl(System.Delegate value);\n▲ * protected System.Boolean InvocationListLogicallyNull();\n▲ * protected System.Boolean IsUnmanagedFunctionPtr();\n▲ * protected System.MulticastDelegate NewMulticastDelegate(\n        System.Object[] invocationList,\n        System.Int32 invocationCount);\n▲ * protected System.Void StoreDynamicMethod( \n        System.Reflection.MethodInfo dynamicMethod);\n▲ * protected virtual System.Object GetTarget();\n▲ protected System.Object MemberwiseClone();\n▲ protected virtual System.Void Finalize();\n▲ public System.Object DynamicInvoke(System.Object[] args);\n▲ public System.Reflection.MethodInfo get_Method();\n▲ public System.Object get_Target();\n▲ public virtual System.Object Clone();\n▲ protected virtual System.Object DynamicInvokeImpl(System.Object[] args);\n▲ * protected System.IntPtr AdjustTarget( \n        System.Object target,\n        System.IntPtr methodPtr);\n▲ * protected System.IRuntimeMethodInfo FindMethodHandle();\n▲ * protected System.IntPtr GetCallStub(System.IntPtr methodPtr);\n▲ * protected System.IntPtr GetInvokeMethod();\n▲ * protected System.IntPtr GetMulticastInvoke();\npublic virtual System.IAsyncResult BeginInvoke(\n        System.IAsyncResult ar,\n        System.AsyncCallback callback,\n        System.Object object);\npublic virtual System.Void EndInvoke(System.IAsyncResult result);\npublic virtual System.Void Invoke(System.IAsyncResult ar);\n\n// Properties:\n• public System.Reflection.MethodInfo Method { get; }\n• public System.Object Target { get; }\n</code></pre>"},{"title":"Comparison<> delegate","description":"","text":"<pre><code class=\"csharp hljs\">\nnamespace System\n{\n    public delegate int Comparison<in T>(T x, T y);\n}\n</code></pre>"},{"title":"Paths processing","description":"","text":"<pre><code class=\"csharp hljs\">\npublic static class Program\n{\n    public static void Main()\n    {\n        var path1 = Path.GetFullPath(@\"C:\\Temp\");  // C:\\Temp\n        var path2 = Path.GetFullPath(@\"C:\\Temp\\\"); // C:\\Temp\\\n        Console.Write(\"Path exists: \");\n        Console.WriteLine(Directory.Exists(path1)); // True.\n        Console.Write(\"Path exists: \");\n        Console.WriteLine(Directory.Exists(path2)); // True.\n        Console.WriteLine(\">>>\");\n        ShowContent(path1);\n        Console.WriteLine(\">>>\"); // The results are the same.\n        ShowContent(path2);\n      \n        Console.WriteLine(\">>>\");\n        FileInfo fi = new FileInfo(@\"C:\\Temp\\help.txt\");\n        Console.WriteLine(fi.Directory); // By default, a path does not end with '\\'.\n      \n        Console.WriteLine(\">>>\");\n        var p1 = Path.Combine(@\"C:\\Temp\",@\"help.txt\");\n        Console.WriteLine(p1);\n        var p2 = Path.Combine(@\"C:\\Temp\\\",@\"help.txt\"); // The results are the same.\n        Console.WriteLine(p2);\n    }\n    private static void ShowContent(string path)\n    {\n        var directories = Directory.GetDirectories(path);\n        for (var i = 0; i < directories.Length; i++)\n        {\n            Console.WriteLine(directories[i]);\n        }\n        var files = Directory.GetFiles(path);\n        for (var i = 0; i < files.Length; i++)\n        {\n            Console.WriteLine(files[i]);\n        }\n    }\n}\n</code></pre>"},{"title":"IActionResult","description":"","text":"<pre><code class=\"csharp hljs\">\npublic interface IActionResult\n{\n    Task ExecuteResultAsync(ActionContext context);\n}\n</code></pre>"},{"title":"ActionResult","description":"","text":"<pre><code class=\"csharp hljs\">\npublic abstract class ActionResult : IActionResult\n{\n    protected ActionResult();\n    public virtual void ExecuteResult(ActionContext context);\n    public virtual Task ExecuteResultAsync(ActionContext context);\n}\n</code></pre>"},{"title":"ViewResult","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class ViewResult : ActionResult\n{\n    public ViewResult();\n\n    public int? StatusCode { get; set; }\n    public string ViewName { get; set; }\n    public object Model { get; }\n    public ViewDataDictionary ViewData { get; set; }\n    public ITempDataDictionary TempData { get; set; }\n    public IViewEngine ViewEngine { get; set; }\n    public string ContentType { get; set; }\n\n    [AsyncStateMachine(typeof(<ExecuteResultAsync>d__26))]\n    public override Task ExecuteResultAsync(ActionContext context);\n}\n</code></pre>"},{"title":"RedirectResult","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class RedirectResult:\n        ActionResult,\n        IKeepTempDataResult,\n        IActionResult\n{\n    public RedirectResult(string url);\n    public RedirectResult(string url, bool permanent);\n    public RedirectResult(string url, bool permanent, bool preserveMethod);\n    public bool Permanent { get; set; }\n    public bool PreserveMethod { get; set; }\n    public string Url { get; set; }\n    public IUrlHelper UrlHelper { get; set; }\n    public override void ExecuteResult(ActionContext context);\n}\n</code></pre>"},{"title":"Controller class","description":"","text":"<pre><code class=\"csharp hljs\">\npublic abstract class Controller:\n        ControllerBase,\n        IActionFilter,\n        IFilterMetadata,\n        IAsyncActionFilter,\n        IDisposable\n{\n    protected Controller();\n\n    [Dynamic]\n    public dynamic ViewBag { get; }\n    [ViewDataDictionary]\n    public ViewDataDictionary ViewData { get; set; }\n    public ITempDataDictionary TempData { get; set; }\n    public void Dispose();\n    [NonAction]\n    public virtual JsonResult Json(object data);\n    [NonAction]\n    public virtual JsonResult Json(object data, JsonSerializerSettings serializerSettings);\n    [NonAction]\n    public virtual void OnActionExecuted(ActionExecutedContext context);\n    [NonAction]\n    public virtual void OnActionExecuting(ActionExecutingContext context);\n    [AsyncStateMachine(typeof(<OnActionExecutionAsync>d__27))]\n    [NonAction]\n    public virtual Task OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next);\n    [NonAction]\n    public virtual PartialViewResult PartialView();\n    [NonAction]\n    public virtual PartialViewResult PartialView(string viewName);\n    [NonAction]\n    public virtual PartialViewResult PartialView(object model);\n    [NonAction]\n    public virtual PartialViewResult PartialView(string viewName, object model);\n    [NonAction]\n    public virtual ViewResult View();\n    [NonAction]\n    public virtual ViewResult View(string viewName, object model);\n    [NonAction]\n    public virtual ViewResult View(object model);\n    [NonAction]\n    public virtual ViewResult View(string viewName);\n    [NonAction]\n    public virtual ViewComponentResult ViewComponent(Type componentType);\n    [NonAction]\n    public virtual ViewComponentResult ViewComponent(string componentName);\n    [NonAction]\n    public virtual ViewComponentResult ViewComponent(string componentName, object arguments);\n    [NonAction]\n    public virtual ViewComponentResult ViewComponent(Type componentType, object arguments);\n\n    protected virtual void Dispose(bool disposing);\n}\n</code></pre>"},{"title":"IEqualityComparer<T>","description":"","text":"<pre><code class=\"csharp hljs\">\npublic interface IEqualityComparer<in T>\n{\n    bool Equals(T x, T y);\n    int GetHashCode(T obj);\n}\n</code></pre>"},{"title":"IEqualityComparer<T> implementation pattern","description":"","text":"<pre><code class=\"csharp hljs\">\npublic class Comparer\n{\n    public static Comparer<U> Get<U> (Func<U, U, bool> func)\n    {\n        return new Comparer<U> (func);\n    }\n}\n\npublic class Comparer<T> : Comparer, IEqualityComparer<T>\n{\n    private Func<T, T, bool> comparisonFunction;\n\n    public Comparer (Func<T, T, bool> func)\n    {\n        comparisonFunction = func;\n    }\n\n    public bool Equals (T x, T y)\n    {\n        return comparisonFunction (x, y);\n    }\n    \n    public int GetHashCode (T obj)\n    {\n        return obj.GetHashCode ();\n    }\n}\n</code></pre>"},{"title":"Working with DbProviderFactory","description":"","text":"<pre><code class=\"csharp hljs\">\n// Get Connection string/provider from *.config.\nstring dataProvider =\n    ConfigurationManager.AppSettings[\"provider\"];\nstring connectionString =\n    ConfigurationManager.AppSettings[\"connectionString\"];\n// Get the factory provider.\nDbProviderFactory factory = DbProviderFactories.GetFactory(dataProvider);\n// Now get the connection object.\nusing (DbConnection connection = factory.CreateConnection())\n{\n    if (connection == null)\n    {\n        ShowError(\"Connection\");\n        return;\n    }\n    WriteLine($\"Your connection object is a: {connection.GetType().Name}\");\n    connection.ConnectionString = connectionString;\n    connection.Open();\n    // Make command object.\n    DbCommand command = factory.CreateCommand();\n    if (command == null)\n    {\n        ShowError(\"Command\");\n        return;\n    }\n    WriteLine($\"Your command object is a: {command.GetType().Name}\");\n    command.Connection = connection;\n    command.CommandText = \"Select * From Inventory\";\n    // Print out data with data reader.\n    using (DbDataReader dataReader = command.ExecuteReader())\n    {\n        WriteLine($\"Your data reader object is a: {dataReader.GetType().Name}\");\n        WriteLine(\"\\n***** Current Inventory *****\");\n        while (dataReader.Read())\n            WriteLine($\"-> Car #{dataReader[\"CarId\"]} is a {dataReader[\"Make\"]}.\");\n    }\n}\n</code></pre>\n\n<pre><code class=\"csharp hljs\">\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<configuration>\n    <appSettings>\n        <add key=\"provider\" value=\"System.Data.SqlClient\" />\n        <add key=\"connectionString\" value= \"Data Source=(localdb)\\mssqllocaldb;\n                  Initial Catalog=AutoLot;Integrated Security=True\"/>\n    </appSettings>\n    <startup>\n        <supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.7\"/>\n    </startup>\n</configuration>\n</code></pre>\n\nResults in:\n<pre><code class=\"csharp hljs\">\n...\nYour connection object is a: SqlConnection\nYour command object is a: SqlCommand\nYour data reader object is a: SqlDataReader\n...\n</code></pre>\n\n<pre><code class=\"csharp hljs\">\n<configuration>\n    <appSettings>\n        <add key=\"provider\" value=\"System.Data.OleDb\" />\n        <add key=\"connectionString\" value= \"Data Source=(localdb)\\mssqllocaldb;\n                  Initial Catalog=AutoLot;Integrated Security=SSPI;\n                  Provider=SQLNCLI11\"/>\n    </appSettings>\n    <startup>\n        <supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.7\"/>\n    </startup>\n</configuration>\n</code></pre>\n\nResults in:\n<pre><code class=\"csharp hljs\">\n...\nYour connection object is a: OleDbConnection\nYour command object is a: OleDbCommand\nYour data reader object is a: OleDbDataReader\n...\n</code></pre>"}]